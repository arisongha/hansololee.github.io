---
title: 깊이 우선 탐색 *
tags:
  - 깊이우선탐색
  - Depth First Search

categories:
  - Algorithm
---

- 제목에 * 표시가 있는 것은 추가할 내용이 있거나 수정할 내용이 있다는 표시입니다.

# 깊이우선 탐색(DFS)

어떤 데이터를 탐색해야할 때 흔히 for와 while 반복문을 사용합니다. 정갈하게 순서대로 나열되어 있는 자료의 경우 이 두가지를 사용해도 충분히 전체 탐색을 할 수가 있습니다. 하지만 그렇지 않은 경우에는 어떻게 해야 할까요? 예를 들어 두사람이 오목을 둘때 먼저 둔 사람이 이길수 있는 경우의 수를 뽑아내야 한다면 for와 while 문 만으로 해결하기엔 벅찰 것입니다. 이럴 때 사용하는 것이 **깊이우선 탐색(Depth First Search)** 과 **너비우선 탐색(Breadth First Search)** 입니다. 여기서는 깊이우선 탐색에 대해 알아보겠습니다. 설명에 앞서 그래프에 대해서 먼저 이해하고 가겠습니다.

위에서 오목에 대한 예시를 들었으니 이번에도 오목으로 예를 들겠습니다. 오목을 처음 시작했을 때 오목판에 바둑돌이 하나도 놓이지 않은 상태를 노드로 만듭니다. 그리고 먼저 바둑돌을 두는 사람이 놓을 수 있는 모든 방법을 엣지로 만듭니다. 각 엣지의 경우대로 바둑돌을 놓았을때 발생하는 돌의 배치를 새로운 노드로 만듭니다. 그리고 상대방이 그에 대응해 바둑돌을 놓을 수 있는 방법을 엣지로 표현합니다. 이를 반복하면 바둑돌의 배치를 그래프의 노드로, 바둑돌을 놓을 수 있는 방법을 엣지로 하는 그래프를 만들 수 있게 됩니다. (아래 그림은 예시와 관련없는 그래프의 그림입니다.)

<center><img data-action="zoom" src='{{ "/assets/img/graph_01.png" | relative_url }}' alt='absolute'></center>
<center><a href="https://www.thesearchagency.com/2017/01/supercharge-influencer-marketing-efforts-social-graph-theory/">출처</a></center>
<br/>

이제 이렇게 표현된 그래프로 **깊이우선 탐색** 에 대해 자세히 알아보겠습니다.

<center><img data-action="zoom" src='{{ "/assets/img/dfs_01.png" | relative_url }}' alt='absolute'></center>
<center><a href="https://www.researchgate.net/figure/Fig-4-Illustrating-DFS-algorithm_fig2_271523961">출처</a></center>
<br/>

깊이우선 탐색은 이름에서도 직관적으로 알수 있듯이 그래프의 아래방향(깊이)를 우선적으로 탐색하는 방법입니다. 위 그림으로 차근차근 설명해 보겠습니다.

탐색의 시작은 노드 A부터 시작합니다. 그리고 A에서 아래방향으로 갈 수 있는 곳이 있나 찾습니다. 일단 B와 C가 있지만 왼쪽에 위치한 것부터 발견하므로 노드 B를 먼저 찾게 됩니다. 그래서 그림에서 처럼 **1** 번 화살표 이동을 하게됩니다. 이렇게 깊이우선 탐색 규칙에 따라서 노드 B 다음에 위치한 노드를 탐색해야합니다. 하지만 노드 B를 조사하고 난 후에는 노드 A로 다시 돌아와야 하는데 B 노드 이전에 A노드를 거쳤다는 것을 어떻게 알 수 있을까요? 그리고 노드 A로 돌아왔을 때, 노드 B에 방문했었는지는 어떻게 알수 있을까요?

 노드 B를 탐색하기 이전에 노드 A에 방문했다고 표시해놓으면 이후에 돌아와서도 탐색을 계속할 수 있습니다. 메모리 그림으로 나타내면 다음과 같습니다.

 > A | | | | ...

 이후에 **1** 번 화살표 이동을 하여 노드 B까지 이동합니다. 이 때 마찬가지로 노드 B에 방문했다는 것을 배열에 저장합니다.

 > A | B | | | ...

 그 다음으로 **2** 번 화살표 이동대로 노드 D까지 이동합니다. 또한 노드 D에 방문했다는 것을 저장합니다.

 > A | B | D | | ...

 노드 D 아래에는 G와 H 2개의 노드가 있습니다. 왼쪽 우선 탐색이므로 노드 G로 먼저 이동합니다. 그런데 노드 G 아래에는 더이상 노드가 존재하지 않습니다. 따라서 다시 이전 노드인 D로 돌아가야 합니다. 이 떄 배열을 이용합니다. 배열의 맨 왼쪽에 있는 노드는 시작 지점과 가까운 노드이고 배열의 맨 오른쪽에 있는 노드는 시작 지점과 먼 노드입니다. 이때 이전 노드로 돌아가려면 배열 맨 오른쪽에 저장된 노드 정보를 이용하면 됩니다.
